{"ast":null,"code":"import { __read, __spreadArray } from \"tslib\";\nimport { useMemo, useRef } from 'react';\nimport { isFunction } from '../utils';\nimport useMemoizedFn from '../useMemoizedFn';\nimport useUpdate from '../useUpdate';\nfunction useControllableValue(props, options) {\n  if (props === void 0) {\n    props = {};\n  }\n  if (options === void 0) {\n    options = {};\n  }\n  var defaultValue = options.defaultValue,\n    _a = options.defaultValuePropName,\n    defaultValuePropName = _a === void 0 ? 'defaultValue' : _a,\n    _b = options.valuePropName,\n    valuePropName = _b === void 0 ? 'value' : _b,\n    _c = options.trigger,\n    trigger = _c === void 0 ? 'onChange' : _c;\n  var value = props[valuePropName];\n  var isControlled = props.hasOwnProperty(valuePropName);\n  var initialValue = useMemo(function () {\n    if (isControlled) {\n      return value;\n    }\n    if (props.hasOwnProperty(defaultValuePropName)) {\n      return props[defaultValuePropName];\n    }\n    return defaultValue;\n  }, []);\n  var stateRef = useRef(initialValue);\n  if (isControlled) {\n    stateRef.current = value;\n  }\n  var update = useUpdate();\n  function setState(v) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n      args[_i - 1] = arguments[_i];\n    }\n    var r = isFunction(v) ? v(stateRef.current) : v;\n    if (!isControlled) {\n      stateRef.current = r;\n      update();\n    }\n    if (props[trigger]) {\n      props[trigger].apply(props, __spreadArray([r], __read(args), false));\n    }\n  }\n  return [stateRef.current, useMemoizedFn(setState)];\n}\nexport default useControllableValue;","map":{"version":3,"names":["__read","__spreadArray","useMemo","useRef","isFunction","useMemoizedFn","useUpdate","useControllableValue","props","options","defaultValue","_a","defaultValuePropName","_b","valuePropName","_c","trigger","value","isControlled","hasOwnProperty","initialValue","stateRef","current","update","setState","v","args","_i","arguments","length","r","apply"],"sources":["C:/unisat-dev-support/brc20-market-demo/node_modules/ahooks/es/useControllableValue/index.js"],"sourcesContent":["import { __read, __spreadArray } from \"tslib\";\nimport { useMemo, useRef } from 'react';\nimport { isFunction } from '../utils';\nimport useMemoizedFn from '../useMemoizedFn';\nimport useUpdate from '../useUpdate';\nfunction useControllableValue(props, options) {\n  if (props === void 0) {\n    props = {};\n  }\n  if (options === void 0) {\n    options = {};\n  }\n  var defaultValue = options.defaultValue,\n    _a = options.defaultValuePropName,\n    defaultValuePropName = _a === void 0 ? 'defaultValue' : _a,\n    _b = options.valuePropName,\n    valuePropName = _b === void 0 ? 'value' : _b,\n    _c = options.trigger,\n    trigger = _c === void 0 ? 'onChange' : _c;\n  var value = props[valuePropName];\n  var isControlled = props.hasOwnProperty(valuePropName);\n  var initialValue = useMemo(function () {\n    if (isControlled) {\n      return value;\n    }\n    if (props.hasOwnProperty(defaultValuePropName)) {\n      return props[defaultValuePropName];\n    }\n    return defaultValue;\n  }, []);\n  var stateRef = useRef(initialValue);\n  if (isControlled) {\n    stateRef.current = value;\n  }\n  var update = useUpdate();\n  function setState(v) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n      args[_i - 1] = arguments[_i];\n    }\n    var r = isFunction(v) ? v(stateRef.current) : v;\n    if (!isControlled) {\n      stateRef.current = r;\n      update();\n    }\n    if (props[trigger]) {\n      props[trigger].apply(props, __spreadArray([r], __read(args), false));\n    }\n  }\n  return [stateRef.current, useMemoizedFn(setState)];\n}\nexport default useControllableValue;"],"mappings":"AAAA,SAASA,MAAM,EAAEC,aAAa,QAAQ,OAAO;AAC7C,SAASC,OAAO,EAAEC,MAAM,QAAQ,OAAO;AACvC,SAASC,UAAU,QAAQ,UAAU;AACrC,OAAOC,aAAa,MAAM,kBAAkB;AAC5C,OAAOC,SAAS,MAAM,cAAc;AACpC,SAASC,oBAAoBA,CAACC,KAAK,EAAEC,OAAO,EAAE;EAC5C,IAAID,KAAK,KAAK,KAAK,CAAC,EAAE;IACpBA,KAAK,GAAG,CAAC,CAAC;EACZ;EACA,IAAIC,OAAO,KAAK,KAAK,CAAC,EAAE;IACtBA,OAAO,GAAG,CAAC,CAAC;EACd;EACA,IAAIC,YAAY,GAAGD,OAAO,CAACC,YAAY;IACrCC,EAAE,GAAGF,OAAO,CAACG,oBAAoB;IACjCA,oBAAoB,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAG,cAAc,GAAGA,EAAE;IAC1DE,EAAE,GAAGJ,OAAO,CAACK,aAAa;IAC1BA,aAAa,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAG,OAAO,GAAGA,EAAE;IAC5CE,EAAE,GAAGN,OAAO,CAACO,OAAO;IACpBA,OAAO,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAG,UAAU,GAAGA,EAAE;EAC3C,IAAIE,KAAK,GAAGT,KAAK,CAACM,aAAa,CAAC;EAChC,IAAII,YAAY,GAAGV,KAAK,CAACW,cAAc,CAACL,aAAa,CAAC;EACtD,IAAIM,YAAY,GAAGlB,OAAO,CAAC,YAAY;IACrC,IAAIgB,YAAY,EAAE;MAChB,OAAOD,KAAK;IACd;IACA,IAAIT,KAAK,CAACW,cAAc,CAACP,oBAAoB,CAAC,EAAE;MAC9C,OAAOJ,KAAK,CAACI,oBAAoB,CAAC;IACpC;IACA,OAAOF,YAAY;EACrB,CAAC,EAAE,EAAE,CAAC;EACN,IAAIW,QAAQ,GAAGlB,MAAM,CAACiB,YAAY,CAAC;EACnC,IAAIF,YAAY,EAAE;IAChBG,QAAQ,CAACC,OAAO,GAAGL,KAAK;EAC1B;EACA,IAAIM,MAAM,GAAGjB,SAAS,CAAC,CAAC;EACxB,SAASkB,QAAQA,CAACC,CAAC,EAAE;IACnB,IAAIC,IAAI,GAAG,EAAE;IACb,KAAK,IAAIC,EAAE,GAAG,CAAC,EAAEA,EAAE,GAAGC,SAAS,CAACC,MAAM,EAAEF,EAAE,EAAE,EAAE;MAC5CD,IAAI,CAACC,EAAE,GAAG,CAAC,CAAC,GAAGC,SAAS,CAACD,EAAE,CAAC;IAC9B;IACA,IAAIG,CAAC,GAAG1B,UAAU,CAACqB,CAAC,CAAC,GAAGA,CAAC,CAACJ,QAAQ,CAACC,OAAO,CAAC,GAAGG,CAAC;IAC/C,IAAI,CAACP,YAAY,EAAE;MACjBG,QAAQ,CAACC,OAAO,GAAGQ,CAAC;MACpBP,MAAM,CAAC,CAAC;IACV;IACA,IAAIf,KAAK,CAACQ,OAAO,CAAC,EAAE;MAClBR,KAAK,CAACQ,OAAO,CAAC,CAACe,KAAK,CAACvB,KAAK,EAAEP,aAAa,CAAC,CAAC6B,CAAC,CAAC,EAAE9B,MAAM,CAAC0B,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC;IACtE;EACF;EACA,OAAO,CAACL,QAAQ,CAACC,OAAO,EAAEjB,aAAa,CAACmB,QAAQ,CAAC,CAAC;AACpD;AACA,eAAejB,oBAAoB"},"metadata":{},"sourceType":"module","externalDependencies":[]}