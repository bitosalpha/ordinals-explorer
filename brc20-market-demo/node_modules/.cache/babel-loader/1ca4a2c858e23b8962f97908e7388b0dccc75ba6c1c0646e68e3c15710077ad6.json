{"ast":null,"code":"import { __read, __spreadArray } from \"tslib\";\nimport { useCallback, useRef, useState } from 'react';\nvar useDynamicList = function (initialList) {\n  if (initialList === void 0) {\n    initialList = [];\n  }\n  var counterRef = useRef(-1);\n  var keyList = useRef([]);\n  var setKey = useCallback(function (index) {\n    counterRef.current += 1;\n    keyList.current.splice(index, 0, counterRef.current);\n  }, []);\n  var _a = __read(useState(function () {\n      initialList.forEach(function (_, index) {\n        setKey(index);\n      });\n      return initialList;\n    }), 2),\n    list = _a[0],\n    setList = _a[1];\n  var resetList = useCallback(function (newList) {\n    keyList.current = [];\n    setList(function () {\n      newList.forEach(function (_, index) {\n        setKey(index);\n      });\n      return newList;\n    });\n  }, []);\n  var insert = useCallback(function (index, item) {\n    setList(function (l) {\n      var temp = __spreadArray([], __read(l), false);\n      temp.splice(index, 0, item);\n      setKey(index);\n      return temp;\n    });\n  }, []);\n  var getKey = useCallback(function (index) {\n    return keyList.current[index];\n  }, []);\n  var getIndex = useCallback(function (key) {\n    return keyList.current.findIndex(function (ele) {\n      return ele === key;\n    });\n  }, []);\n  var merge = useCallback(function (index, items) {\n    setList(function (l) {\n      var temp = __spreadArray([], __read(l), false);\n      items.forEach(function (_, i) {\n        setKey(index + i);\n      });\n      temp.splice.apply(temp, __spreadArray([index, 0], __read(items), false));\n      return temp;\n    });\n  }, []);\n  var replace = useCallback(function (index, item) {\n    setList(function (l) {\n      var temp = __spreadArray([], __read(l), false);\n      temp[index] = item;\n      return temp;\n    });\n  }, []);\n  var remove = useCallback(function (index) {\n    setList(function (l) {\n      var temp = __spreadArray([], __read(l), false);\n      temp.splice(index, 1);\n      // remove keys if necessary\n      try {\n        keyList.current.splice(index, 1);\n      } catch (e) {\n        console.error(e);\n      }\n      return temp;\n    });\n  }, []);\n  var move = useCallback(function (oldIndex, newIndex) {\n    if (oldIndex === newIndex) {\n      return;\n    }\n    setList(function (l) {\n      var newList = __spreadArray([], __read(l), false);\n      var temp = newList.filter(function (_, index) {\n        return index !== oldIndex;\n      });\n      temp.splice(newIndex, 0, newList[oldIndex]);\n      // move keys if necessary\n      try {\n        var keyTemp = keyList.current.filter(function (_, index) {\n          return index !== oldIndex;\n        });\n        keyTemp.splice(newIndex, 0, keyList.current[oldIndex]);\n        keyList.current = keyTemp;\n      } catch (e) {\n        console.error(e);\n      }\n      return temp;\n    });\n  }, []);\n  var push = useCallback(function (item) {\n    setList(function (l) {\n      setKey(l.length);\n      return l.concat([item]);\n    });\n  }, []);\n  var pop = useCallback(function () {\n    // remove keys if necessary\n    try {\n      keyList.current = keyList.current.slice(0, keyList.current.length - 1);\n    } catch (e) {\n      console.error(e);\n    }\n    setList(function (l) {\n      return l.slice(0, l.length - 1);\n    });\n  }, []);\n  var unshift = useCallback(function (item) {\n    setList(function (l) {\n      setKey(0);\n      return [item].concat(l);\n    });\n  }, []);\n  var shift = useCallback(function () {\n    // remove keys if necessary\n    try {\n      keyList.current = keyList.current.slice(1, keyList.current.length);\n    } catch (e) {\n      console.error(e);\n    }\n    setList(function (l) {\n      return l.slice(1, l.length);\n    });\n  }, []);\n  var sortList = useCallback(function (result) {\n    return result.map(function (item, index) {\n      return {\n        key: index,\n        item: item\n      };\n    }) // add index into obj\n    .sort(function (a, b) {\n      return getIndex(a.key) - getIndex(b.key);\n    }) // sort based on the index of table\n    .filter(function (item) {\n      return !!item.item;\n    }) // remove undefined(s)\n    .map(function (item) {\n      return item.item;\n    });\n  },\n  // retrive the data\n  []);\n  return {\n    list: list,\n    insert: insert,\n    merge: merge,\n    replace: replace,\n    remove: remove,\n    getKey: getKey,\n    getIndex: getIndex,\n    move: move,\n    push: push,\n    pop: pop,\n    unshift: unshift,\n    shift: shift,\n    sortList: sortList,\n    resetList: resetList\n  };\n};\nexport default useDynamicList;","map":{"version":3,"names":["__read","__spreadArray","useCallback","useRef","useState","useDynamicList","initialList","counterRef","keyList","setKey","index","current","splice","_a","forEach","_","list","setList","resetList","newList","insert","item","l","temp","getKey","getIndex","key","findIndex","ele","merge","items","i","apply","replace","remove","e","console","error","move","oldIndex","newIndex","filter","keyTemp","push","length","concat","pop","slice","unshift","shift","sortList","result","map","sort","a","b"],"sources":["C:/unisat-dev-support/brc20-market-demo/node_modules/ahooks/es/useDynamicList/index.js"],"sourcesContent":["import { __read, __spreadArray } from \"tslib\";\nimport { useCallback, useRef, useState } from 'react';\nvar useDynamicList = function (initialList) {\n  if (initialList === void 0) {\n    initialList = [];\n  }\n  var counterRef = useRef(-1);\n  var keyList = useRef([]);\n  var setKey = useCallback(function (index) {\n    counterRef.current += 1;\n    keyList.current.splice(index, 0, counterRef.current);\n  }, []);\n  var _a = __read(useState(function () {\n      initialList.forEach(function (_, index) {\n        setKey(index);\n      });\n      return initialList;\n    }), 2),\n    list = _a[0],\n    setList = _a[1];\n  var resetList = useCallback(function (newList) {\n    keyList.current = [];\n    setList(function () {\n      newList.forEach(function (_, index) {\n        setKey(index);\n      });\n      return newList;\n    });\n  }, []);\n  var insert = useCallback(function (index, item) {\n    setList(function (l) {\n      var temp = __spreadArray([], __read(l), false);\n      temp.splice(index, 0, item);\n      setKey(index);\n      return temp;\n    });\n  }, []);\n  var getKey = useCallback(function (index) {\n    return keyList.current[index];\n  }, []);\n  var getIndex = useCallback(function (key) {\n    return keyList.current.findIndex(function (ele) {\n      return ele === key;\n    });\n  }, []);\n  var merge = useCallback(function (index, items) {\n    setList(function (l) {\n      var temp = __spreadArray([], __read(l), false);\n      items.forEach(function (_, i) {\n        setKey(index + i);\n      });\n      temp.splice.apply(temp, __spreadArray([index, 0], __read(items), false));\n      return temp;\n    });\n  }, []);\n  var replace = useCallback(function (index, item) {\n    setList(function (l) {\n      var temp = __spreadArray([], __read(l), false);\n      temp[index] = item;\n      return temp;\n    });\n  }, []);\n  var remove = useCallback(function (index) {\n    setList(function (l) {\n      var temp = __spreadArray([], __read(l), false);\n      temp.splice(index, 1);\n      // remove keys if necessary\n      try {\n        keyList.current.splice(index, 1);\n      } catch (e) {\n        console.error(e);\n      }\n      return temp;\n    });\n  }, []);\n  var move = useCallback(function (oldIndex, newIndex) {\n    if (oldIndex === newIndex) {\n      return;\n    }\n    setList(function (l) {\n      var newList = __spreadArray([], __read(l), false);\n      var temp = newList.filter(function (_, index) {\n        return index !== oldIndex;\n      });\n      temp.splice(newIndex, 0, newList[oldIndex]);\n      // move keys if necessary\n      try {\n        var keyTemp = keyList.current.filter(function (_, index) {\n          return index !== oldIndex;\n        });\n        keyTemp.splice(newIndex, 0, keyList.current[oldIndex]);\n        keyList.current = keyTemp;\n      } catch (e) {\n        console.error(e);\n      }\n      return temp;\n    });\n  }, []);\n  var push = useCallback(function (item) {\n    setList(function (l) {\n      setKey(l.length);\n      return l.concat([item]);\n    });\n  }, []);\n  var pop = useCallback(function () {\n    // remove keys if necessary\n    try {\n      keyList.current = keyList.current.slice(0, keyList.current.length - 1);\n    } catch (e) {\n      console.error(e);\n    }\n    setList(function (l) {\n      return l.slice(0, l.length - 1);\n    });\n  }, []);\n  var unshift = useCallback(function (item) {\n    setList(function (l) {\n      setKey(0);\n      return [item].concat(l);\n    });\n  }, []);\n  var shift = useCallback(function () {\n    // remove keys if necessary\n    try {\n      keyList.current = keyList.current.slice(1, keyList.current.length);\n    } catch (e) {\n      console.error(e);\n    }\n    setList(function (l) {\n      return l.slice(1, l.length);\n    });\n  }, []);\n  var sortList = useCallback(function (result) {\n    return result.map(function (item, index) {\n      return {\n        key: index,\n        item: item\n      };\n    }) // add index into obj\n    .sort(function (a, b) {\n      return getIndex(a.key) - getIndex(b.key);\n    }) // sort based on the index of table\n    .filter(function (item) {\n      return !!item.item;\n    }) // remove undefined(s)\n    .map(function (item) {\n      return item.item;\n    });\n  },\n  // retrive the data\n  []);\n  return {\n    list: list,\n    insert: insert,\n    merge: merge,\n    replace: replace,\n    remove: remove,\n    getKey: getKey,\n    getIndex: getIndex,\n    move: move,\n    push: push,\n    pop: pop,\n    unshift: unshift,\n    shift: shift,\n    sortList: sortList,\n    resetList: resetList\n  };\n};\nexport default useDynamicList;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}